<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>H11 AISW "í™”ë‚¬ì–´ìš”? ì˜ì„¸ìš”!" ì²´í—˜ë¶€ìŠ¤ ì˜ˆì•½</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      padding-left: 20px;
      padding-right: 20px;
      margin: 0;
      background-color: #f5f5f5;
      color: #333;
    }
    h1 {
      font-size: 1.5em;
      text-align: center;
      margin-top: 10px;
      margin-bottom: 10px;
      line-height: 1.6;
    }
    form {
      background-color: #fff;
      padding: 20px;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      max-width: 600px;  /* ë¶€ëª¨ ìš”ì†Œì— ìµœëŒ€ ë„ˆë¹„ ì„¤ì • */
      margin: 0 auto;    /* ê°€ìš´ë° ì •ë ¬ */
    }

    label {
      display: block;
      margin-top: 5px;
      margin-bottom: 5px;
      font-weight: bold;
    }
    input, select, button {
      width: 100%;  /* ë¶€ëª¨ ìš”ì†Œ ë„ˆë¹„ì— ë§ê²Œ í™•ì¥ */
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 1em;
      box-sizing: border-box; /* íŒ¨ë”© í¬í•¨í•˜ì—¬ 100% ë„ˆë¹„ ì„¤ì • */
    }
    button {
      background-color: #008cba;
      color: white;
      margin-top: 10px;
      cursor: pointer;
      border: none;
    }
    button:hover {
      background-color: #0077a8;
    }
    .info-message {
      margin-top: 10px;
      font-size: 0.95em;
      color: green;
      text-align: center;
    }
    .available { color: green; }
    .full { color: red; }
    .closed { color: gray; }
    .waiting { color: orange; }

    .footer {
      margin-top: 10px;
      text-align: center;
      font-size: 0.9em;
      color: #666;
    }

    .footer-logo {
      display: flex;
      align-items: baseline;
      justify-content: center;
      gap: 5px;
      margin-top: 0px;
    }

    .footer-logo img {
      height: 25px;
    }

    .footer-logo h1 {
      margin: 0;
      font-size: 1.5em;
      line-height: 1;
    }
  </style>
</head>
<body>
  <h1>
    AISW ì²´í—˜ì¶•ì „ <br>
    H11 "í™”ë‚¬ì–´ìš”? ì˜ì„¸ìš”!"<br>
    ì²´í—˜ë¶€ìŠ¤ ì˜ˆì•½ ì‹œìŠ¤í…œ
  </h1>  
  <form action="/" method="POST">
    <label for="name">ì´ë¦„(ì •í™•í•œ ì´ë¦„ ë¯¸ì…ë ¥ì‹œ ì‚­ì œë¨)</label>
    <input type="text" id="name" name="name" required>

    <label for="time">ì˜ˆì•½ ì‹œê°„</label>
    <select name="time" id="time" required>
      {% for slot in time_slots %}
      {% if not slot.is_force_closed %}
        <option value="{{ slot.time }}" {% if not slot.available %}disabled{% endif %}>
          {{ slot.time }} 
          ({{ slot.reserved_count }}/{{ max_people }})
          {% if slot.is_closed %}
            (ì‹œê°„ ì¢…ë£Œ)
          {% elif slot.is_full %}
            (ì˜ˆì•½ ë§ˆê°)
          {% elif slot.available %}
            (ì˜ˆì•½ ê°€ëŠ¥)
          {% else %}
            (ì˜ˆì•½ ëŒ€ê¸° ì¤‘)
          {% endif %}
        </option>
      {% endif %}
      {% endfor %}
    </select>

    <button type="submit">ì˜ˆì•½í•˜ê¸°</button>
  </form>

  {% if error_message %}
    <div style="color: red; font-weight: bold; margin-bottom: 20px; text-align: center;">
      {{ error_message }}
    </div>
  {% endif %}

  {% if user_reserved %}
    <div id="reservation-confirmation" style="margin-top: 30px; background: 	#fb8c00; padding: 20px; border-radius: 12px; text-align: center;">
      <h2>ğŸ‰ AISWì²´í—˜ì¶•ì „<br>H11 "í™”ë‚¬ì–´ìš”? ì˜ì„¸ìš”!"<br>ì˜ˆì•½ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!</h2>
      <p><strong>ì˜ˆì•½ì:</strong> {{ name }}</p>
      <p><strong>ì˜ˆì•½ ì‹œê°„:</strong> {{ time }}</p>
      <p>ì´ íœ´ëŒ€í°ìœ¼ë¡œ ì˜ˆì•½í•˜ì…¨ìŠµë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤!<br> ì´ ì˜ˆì•½ì‹œìŠ¤í…œì€ íœ´ëŒ€í° 1ëŒ€ë‹¹ <br>1ëª…ë§Œ ì˜ˆì•½ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
      <button onclick="captureConfirmation()">ğŸ“¸ ì˜ˆì•½ì˜ì—­ í™”ë©´ ìº¡ì²˜í•˜ê¸°</button>
    </div>
  {% endif %}

  <script>
    function captureConfirmation() {
      const target = document.getElementById("reservation-confirmation");
      html2canvas(target).then(canvas => {
        const link = document.createElement("a");
        link.download = "aisw_H11_ì²´í—˜ë¶€ìŠ¤_ì˜ˆì•½í™•ì¸ì¦.png";
        link.href = canvas.toDataURL("image/png");
        link.click();
      });
    }
  </script>

  <h5>
    1. íœ´ëŒ€ì „í™” 1ëŒ€ë‹¹ 1ëª…ë§Œ ì˜ˆì•½ ê°€ëŠ¥í•©ë‹ˆë‹¤.<br>
     &nbsp;&nbsp;&nbsp;&nbsp;ì˜ˆì•½ ì‹œê°„ì— ì˜¤ì§€ ì•Šìœ¼ë©´ ì·¨ì†Œ ì²˜ë¦¬ë©ë‹ˆë‹¤.<br><br>
    2. ì˜ˆì•½ì€ í˜„ì¬ì‹œê° ê¸°ì¤€ 30ë¶„ í›„ê¹Œì§€ 5ë¶„ ë‹¨ìœ„ë¡œ 2ëª…ì”© ì‹¤ì‹œê°„ ì˜¤í”ˆë©ë‹ˆë‹¤.<br>
    &nbsp;&nbsp;&nbsp; ex) í˜„ì¬ì‹œê°„ 11:00 -> 11:30ê¹Œì§€ 5ë¶„ ê°„ê²©ìœ¼ë¡œ 2ëª…ì”© ì˜ˆì•½ê°€ëŠ¥<br><br>
    3. ì˜ˆì•½ì— ì„±ê³µí•˜ë©´ ìº¡ì²˜í•˜ê¸°ë¥¼ í„°ì¹˜í•˜ì—¬ ì €ì¥í•œ ë’¤ ì‹œê°„ì— ë§ì¶° ì˜¤ì…”ì„œ ë³´ì—¬ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.
    <!--3. ì˜¤í›„ ì˜ˆì•½ì€ 12ì‹œ 30ë¶„ë¶€í„° ì˜¤í”ˆë©ë‹ˆë‹¤.--> 
  </h5>
  <div class="footer-logo">
    <img src="{{ url_for('static', filename='logo.png') }}" alt="ìƒì¼ì—¬ìê³ ë“±í•™êµ ë¡œê³ ">
    <span style="font-size: 1.2em; font-weight: bold;">ìƒì¼ì—¬ìê³ ë“±í•™êµ</span>
  </div>

</body>
</html>
